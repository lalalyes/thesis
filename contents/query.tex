\chapter{时序图查询模块的设计与实现}
时序RDF图和时序超图查询系统是受关注相对较少的研究方向，即使已经出现了一些面向时序RDF图的图查询系统，但它们的性能较差，查询响应时间和并发处理能力都难以令人满意，时序超图查询系统的研究更是少有人问津。本章将介绍\sys 的时序图查询模块，它在Wukong的基础上对时序图查询进行了针对性的优化，实现了时序RDF图和时序超图的可扩展存储和高效查询。

\input{contents/lang}
\input{contents/trdf}
\input{contents/thyper}

\section{本章小结}
本章介绍了\sys 时序图查询模块的设计与实现。时序RDF图和时序超图都没有标准的查询语言，所以本文在RDF图查询语言SPARQL的基础上设计了时序RDF图查询语言SPARQL-T，从零开始设计了时序超图查询语言HQL-T。SPARQL-T将SPARQL的GP中的三元模式扩展到五元模式，HQL-T的GP则由基础关系模式（RP）组成。时序RDF图存储和时序超图存储的设计思路类似，都使用了分布式键值存储辅以分布式排序数组的存储结构，键值存储都使用了直接索引和间接索引相结合的设计，在实现了高效的拓扑查询和时间条件查询的同时，减少了时序数据存储占用的空间。
SPARQL-T的时序三元组时间范围模式和HQL-T的时序超边时间范围模式可以用来在特定条件下加速时间条件查询。
SPARQL-T和HQL-T查询引擎都沿用了Wukong使用的图探索和全历史剪枝算法，都使用了fork-join机制来加速复杂查询的执行。
